import{s as y,f as x,l as b,a as $,g,h as S,m as p,d as f,c as R,j as _,i as h,x as u,n as E,o as z}from"../chunks/scheduler.8d709755.js";import{S as N,i as O,b as A,d as D,m as H,a as M,t as C,e as P}from"../chunks/index.eb84c1c6.js";import{l as q,p as I}from"../chunks/pdfmake.fba54ce0.js";import{P as w}from"../chunks/Printer.a32559c2.js";import{B as L}from"../chunks/Button.734935ca.js";function T(r){let o;return{c(){o=b("Imprimir")},l(n){o=p(n,"Imprimir")},m(n,s){h(n,o,s)},d(n){n&&f(o)}}}function U(r){let o,n,s,e=r[0].paquetes.nombre+"",l,m,a,d;return a=new L({props:{size:"small",kind:"tertiary",icon:w,$$slots:{default:[T]},$$scope:{ctx:r}}}),a.$on("click",r[3]),{c(){o=x("main"),n=x("h1"),s=b("Manifiesto "),l=b(e),m=$(),A(a.$$.fragment),this.h()},l(t){o=g(t,"MAIN",{});var i=S(o);n=g(i,"H1",{class:!0});var c=S(n);s=p(c,"Manifiesto "),l=p(c,e),c.forEach(f),i.forEach(f),m=R(t),D(a.$$.fragment,t),this.h()},h(){_(n,"class","uppercase")},m(t,i){h(t,o,i),u(o,n),u(n,s),u(n,l),h(t,m,i),H(a,t,i),d=!0},p(t,[i]){(!d||i&1)&&e!==(e=t[0].paquetes.nombre+"")&&E(l,e);const c={};i&16&&(c.$$scope={dirty:i,ctx:t}),a.$set(c)},i(t){d||(M(a.$$.fragment,t),d=!0)},o(t){C(a.$$.fragment,t),d=!1},d(t){t&&(f(o),f(m)),P(a,t)}}}function k(r,o,n){const s={Roboto:{normal:"https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/fonts/Roboto/Roboto-Regular.ttf",bold:"https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/fonts/Roboto/Roboto-Medium.ttf",italics:"https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/fonts/Roboto/Roboto-Italic.ttf",bolditalics:"https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/fonts/Roboto/Roboto-MediumItalic.ttf"}};let{data:e}=o;const l={pageMargins:[40,40],pageSize:"A4",content:[{columns:[[{image:`${q}`,width:72,alignment:"left",margin:[0,0]},{text:[{text:`Del Valle Turismo.
`,fontSize:14,bold:!0},{text:`Empresa de viajes y turismo 
`,fontSize:10,bold:!0},{text:"Legajo número: ",bold:!0},`18376. 
`,{text:"Dirección: ",bold:!0},`La Rioja 2203 - Posadas (3300) - Misiones. 
`,{text:"Teléfonos: ",bold:!0},"+54 (3764) 222333 / +54 (3764) 424450"],fontSize:10,alignment:"left",width:320,margin:[0,0]}],{text:`ID PAQUETE: ${e.paquetes.id.toString().padStart(4,"0").toUpperCase()}`,fontSize:10,alignment:"right",margin:[0,10]}]},{text:"MANIFIESTO DE PASAJEROS Y TRIPULACIÓN",style:"header"},{table:{headerRows:1,widths:["*","*"],body:[[{table:{headerRows:1,widths:["*","*"],body:[[{text:"DATOS CONDUCTOR",style:"tableHeader"},{text:"DNI",style:"tableHeader"}],[`${e.paquetes.chofer1nombre}`,`${e.paquetes.chofer1dni}`],[`${e.paquetes.chofer2nombre}`,`${e.paquetes.chofer2dni}`]]}},{table:{headerRows:1,widths:["*","*"],body:[[{text:"DOMINIO VEHICULO",style:"tableHeader"},{text:"INTERNO VEHICULO",style:"tableHeader"}],[`${e.paquetes.dominio}`,`${e.paquetes.interno}`]]}}]]}},{table:{headerRows:1,widths:["auto","*","auto","auto","auto","auto","auto","auto"],body:[[{text:"NRO.",style:"tableHeader"},{text:"APELLIDO Y NOMBRE",style:"tableHeader"},{text:"NACIMIENTO",style:"tableHeader"},{text:"NACIONALIDAD",style:"tableHeader"},{text:"OCUPACIÓN",style:"tableHeader"},{text:"SEXO",style:"tableHeader"},{text:"DNI",style:"tableHeader"},{text:"PAIS RESIDENCIA",style:"tableHeader"}],...e.ventas.reduce((a,d)=>(d.pasajeros.forEach(t=>{a.push([{text:a.length+1,fontSize:10},{text:t.apellido+" "+t.nombre||"",fontSize:10},{text:new Date(t.fechanacimiento).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}).toUpperCase()||"",fontSize:10},{text:t.nacionalidad||"",fontSize:10},{text:t.ocupacion||"",fontSize:10},{text:t.sexo==="MASCULINO"?"M":(t.sexo==="FEMENINO"?"F":"")||"",fontSize:10},{text:t.dni||"",fontSize:10},{text:t.nacionalidad||"",fontSize:10}])}),a),[])]}}],styles:{tableFont:{fontSize:8},header:{fontSize:14,bold:!0,alignment:"center",margin:[0,15,0,5]},tableHeader:{bold:!0,fontSize:8,alignment:"center",fillColor:"#eeeeee"},paragraph:{fontSize:10,alignment:"justify",margin:[0,2,0,2]},bold:{bold:!0,margin:[0,5,0,5]},list:{fontSize:8,margin:[0,5,0,5]},page:{fontSize:8,alignment:"right"}}};z(()=>{I.createPdf(l,null,s).open()});const m=()=>{I.createPdf(l,null,s).open()};return r.$$set=a=>{"data"in a&&n(0,e=a.data)},[e,s,l,m]}class Y extends N{constructor(o){super(),O(this,o,k,U,y,{data:0})}}export{Y as component};
